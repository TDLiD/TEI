<div class="animate-fadeIn max-w-md">
    <h3 class="text-xl font-bold text-white mb-6">Account Settings</h3>
    
    <div class="bg-slate-900 p-6 rounded-2xl border border-slate-800">
        <div class="space-y-6">
            <div>
                <label class="block text-xs font-semibold text-slate-500 uppercase mb-2">Change Password</label>
                <input type="password" id="settingNewPw" class="w-full bg-slate-800 border border-slate-700 p-3 rounded-xl text-white outline-none focus:ring-2 focus:ring-blue-500" placeholder="Enter new password">
            </div>
            
            <button onclick="updateUserPassword()" class="w-full bg-slate-800 text-blue-400 py-3 rounded-xl font-bold border border-slate-700 hover:bg-slate-700 transition">
                Save Changes
            </button>
        </div>
    </div>
</div>

<script>
    window.updateUserPassword = function() {
        const user = sessionStorage.getItem('loggedInUser');
        const newPw = document.getElementById('settingNewPw').value;
        
        if(!newPw) return alert("Please enter a password.");
        
        firebase.database().ref('users/' + user).update({ 
            password: newPw 
        }).then(() => {
            alert("Password updated successfully!");
            document.getElementById('settingNewPw').value = '';
        }).catch(error => {
            alert("Update failed: " + error.message);
        });
    };
</script>